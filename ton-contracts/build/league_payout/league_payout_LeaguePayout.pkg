{"name":"LeaguePayout","code":"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","abi":"{\"name\":\"LeaguePayout\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"CreateLeague\",\"header\":3598845671,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"userId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"commissionPercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"initialStake\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"Stake\",\"header\":1454696319,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"userId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"CreatePublicLeague\",\"header\":1462801691,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"commissionPercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"feeAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"PayoutWinners\",\"header\":2704136465,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"winningPercentages\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"winners\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"address\"}},{\"name\":\"count\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"commissionPercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"PayoutItem\",\"header\":null,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"winningPercentages\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"winners\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"address\"}},{\"name\":\"count\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"commissionPercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"BatchPayoutWinners\",\"header\":743933829,\"fields\":[{\"name\":\"items\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"PayoutItem\",\"valueFormat\":\"ref\"}},{\"name\":\"count\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}}]},{\"name\":\"Withdraw\",\"header\":195467089,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"LeagueCreated\",\"header\":1156593961,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"StakeEvent\",\"header\":1638663196,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"userId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"PayoutEvent\",\"header\":1136431651,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"winner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"PayoutCompletedEvent\",\"header\":979085414,\"fields\":[{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"LeaguePayout$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"leagues\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"LeagueInfo\",\"valueFormat\":\"ref\"}},{\"name\":\"stakes\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"StakeInfo\",\"valueFormat\":\"ref\"}}]},{\"name\":\"LeagueInfo\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"leagueId\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"commissionPercentage\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"feePaid\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"totalStaked\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"StakeInfo\",\"header\":null,\"fields\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"hasStaked\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreateLeague\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CreatePublicLeague\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Stake\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"PayoutWinners\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"BatchPayoutWinners\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Withdraw\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"league\",\"methodId\":103490,\"arguments\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"LeagueInfo\",\"optional\":true}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"5902\":{\"message\":\"Winner did not stake\"},\"9821\":{\"message\":\"League already exists\"},\"18492\":{\"message\":\"Insufficient stake amount sent\"},\"19126\":{\"message\":\"Only owner can create public leagues\"},\"26825\":{\"message\":\"Only owner can withdraw\"},\"35380\":{\"message\":\"Only owner can payout\"},\"44175\":{\"message\":\"Fee paid, no commission allowed\"},\"58396\":{\"message\":\"User already staked\"},\"62070\":{\"message\":\"No funds in league\"},\"62441\":{\"message\":\"Insufficient value sent\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/league_payout.tact":"Ly8gaW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CgptZXNzYWdlIERlcGxveSB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0Owp9CgptZXNzYWdlIERlcGxveU9rIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KCnRyYWl0IERlcGxveWFibGUgewogICAgcmVjZWl2ZShtc2c6IERlcGxveSkgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IDY0LCAvLyBTZW5kUmVtYWluaW5nVmFsdWUgKCsgMiBmb3IgSWdub3JlRXJyb3JzPyB1c3VhbGx5IGp1c3QgNjQgaXMgZW5vdWdoIGZvciByZXBseSwgb3IgNjQrMj02NikKICAgICAgICAgICAgYm9keTogRGVwbG95T2t7cXVlcnlJZDogbXNnLnF1ZXJ5SWR9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9Cn0KCi8vIE1lc3NhZ2VzCm1lc3NhZ2UgQ3JlYXRlTGVhZ3VlIHsKICAgIGxlYWd1ZUlkOiBTdHJpbmc7CiAgICB1c2VySWQ6IFN0cmluZzsKICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBJbnQgYXMgdWludDY0OwogICAgZmVlQW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBpbml0aWFsU3Rha2U6IEludCBhcyBjb2luczsKfQoKbWVzc2FnZSBTdGFrZSB7CiAgICBsZWFndWVJZDogU3RyaW5nOwogICAgdXNlcklkOiBTdHJpbmc7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKfQoKbWVzc2FnZSBDcmVhdGVQdWJsaWNMZWFndWUgewogICAgbGVhZ3VlSWQ6IFN0cmluZzsKICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBJbnQgYXMgdWludDY0OwogICAgZmVlQW1vdW50OiBJbnQgYXMgY29pbnM7IC8vIFdoYXQgdXNlcnMgd2lsbCBwYXkgdG8gam9pbgp9CgptZXNzYWdlIFBheW91dFdpbm5lcnMgewogICAgbGVhZ3VlSWQ6IFN0cmluZzsKICAgIHdpbm5pbmdQZXJjZW50YWdlczogbWFwPEludCwgSW50PjsgLy8gV2lubmVyIGluZGV4IC0+IFBlcmNlbnRhZ2UgKGJhc2lzIHBvaW50cykKICAgIHdpbm5lcnM6IG1hcDxJbnQsIEFkZHJlc3M+OyAvLyBXaW5uZXIgaW5kZXggLT4gQWRkcmVzcwogICAgY291bnQ6IEludCBhcyB1aW50ODsKICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBJbnQgYXMgdWludDY0Owp9CgpzdHJ1Y3QgUGF5b3V0SXRlbSB7CiAgICBsZWFndWVJZDogU3RyaW5nOwogICAgd2lubmluZ1BlcmNlbnRhZ2VzOiBtYXA8SW50LCBJbnQ+OyAKICAgIHdpbm5lcnM6IG1hcDxJbnQsIEFkZHJlc3M+OyAKICAgIGNvdW50OiBJbnQgYXMgdWludDg7CiAgICBjb21taXNzaW9uUGVyY2VudGFnZTogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBCYXRjaFBheW91dFdpbm5lcnMgewogICAgaXRlbXM6IG1hcDxJbnQsIFBheW91dEl0ZW0+OwogICAgY291bnQ6IEludCBhcyB1aW50ODsKfQoKbWVzc2FnZSBXaXRoZHJhdyB7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKfQoKLy8gRXZlbnRzCm1lc3NhZ2UgTGVhZ3VlQ3JlYXRlZCB7CiAgICBsZWFndWVJZDogU3RyaW5nOwp9Cm1lc3NhZ2UgU3Rha2VFdmVudCB7CiAgICBsZWFndWVJZDogU3RyaW5nOwogICAgdXNlcklkOiBTdHJpbmc7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKfQptZXNzYWdlIFBheW91dEV2ZW50IHsKICAgIGxlYWd1ZUlkOiBTdHJpbmc7CiAgICB3aW5uZXI6IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKfQptZXNzYWdlIFBheW91dENvbXBsZXRlZEV2ZW50IHsKICAgIGxlYWd1ZUlkOiBTdHJpbmc7Cn0KCmNvbnRyYWN0IExlYWd1ZVBheW91dCB3aXRoIERlcGxveWFibGUgewogICAgLy8gU3RhdGUKICAgIG93bmVyOiBBZGRyZXNzOwogICAgCiAgICAvLyBXZSBjYW4gdXNlIG1hcHMgdG8gc3RvcmUgbGVhZ3VlIHN0YXRlCiAgICAvLyBMZWFndWUgSUQgKFN0cmluZykgLT4gTGVhZ3VlIERhdGEKICAgIC8vIFN0YWtpbmcgaW5mbzogKExlYWd1ZUlEICsgVXNlciBBZGRyZXNzIGhhc2gpIC0+IFN0YWtlZCBBbW91bnQgb3IgQm9vbAogICAgCiAgICAvLyBGb3Igc2ltcGxpY2l0eSBpbiBUYWN0IDEuNSwgd2UgbWlnaHQgdXNlIGEgZGVkaWNhdGVkIGNoaWxkIGNvbnRyYWN0IGZvciBlYWNoIGxlYWd1ZSAKICAgIC8vIHRvIGF2b2lkIG1hc3NpdmUgbWFwcyBpbiBvbmUgY29udHJhY3QgaWYgc2NhbGFiaWxpdHkgaXMga2V5LgogICAgLy8gR1VJREFOQ0U6ICJEbyBhd2F5IHdpdGggU29sYW5hIGNvbnRyYWN0Li4uIGltcGxlbWVudCBUT04gY29udHJhY3QuLi4gc2FtZSBsb2dpYyIKICAgIC8vIFRoZSBTb2xhbmEgY29udHJhY3QgdXNlZCBhIFBEQSBwZXIgbGVhZ3VlLiAKICAgIC8vIEluIFRPTiwgaXQncyBiZXN0IHRvIGhhdmUgYSBNQVNURVIgY29udHJhY3QgdGhhdCBkZXBsb3lzIExFQUdVRSBjb250cmFjdHMgKEpldHRvbi1zdHlsZSBvciBzaW1pbGFyIHBhdHRlcm4pLgogICAgLy8gT1Igd2UgY2FuIGtlZXAgaXQgc2ltcGxlOiBPbmUgY29udHJhY3QgbWFuYWdpbmcgZXZlcnl0aGluZyB1c2luZyBNYXBzLCAKICAgIC8vIGJ1dCBleHRlbnNpdmUgdXNhZ2UgbWlnaHQgaGl0IGxpbWl0cy4gCiAgICAvLyBHaXZlbiB0aGUgcmVxdWVzdCBpcyAic2FtZSBsb2dpYyIsIEknbGwgc3RpY2sgdG8gYSBzaW5nbGUgY29udHJhY3Qgd2l0aCBNYXBzIGZvciBub3cgCiAgICAvLyBhcyBpdCBtaXJyb3JzIHRoZSAib25lIHByb2dyYW0iIG1lbnRhbCBtb2RlbCwgYnV0IEkgd2lsbCBub3RlIGxpbWl0cy4gCiAgICAvLyBBQ1RVQUxMWSwgIlBEQSIgKFByb2dyYW0gRGVyaXZlZCBBZGRyZXNzKSBpbiBTb2xhbmEgaXMgYWtpbiB0byBhIGNoaWxkIGNvbnRyYWN0IGluIFRPTi4KICAgIC8vIEJ1dCB0byBzcGVlZCB1cCBtaWdyYXRpb24sIEkgd2lsbCB1c2UgYSBzaW5nbGUgY29udHJhY3Qgd2l0aCBNYXBzIGlmIHRoZSBleHBlY3RlZCB1c2FnZSBpcyBsb3ctaXNoLCAKICAgIC8vIG9yIGJldHRlciBhbGxvdyB0aGUgYXJjaGl0ZWN0dXJlIHRvIGJlIHJvYnVzdC4gCiAgICAvLyBMZXQncyBzdGljayB0byBTaW5nbGUgQ29udHJhY3QgZm9yIE1WUCB2ZWxvY2l0eSB1bmxlc3MgSSBoaXQgbGltaXRzLiAKICAgIC8vIFVzaW5nIGBtYXA8SW50LCAuLi4+YCB3aXRoIGhhc2ggb2YgbGVhZ3VlSWQgaXMgY29tbW9uLgogICAgCiAgICAvLyBNYXBzCiAgICAvLyBsZWFndWVJZCAoc2hhMjU2IGhhc2ggYXMgSW50KSAtPiBMZWFndWVJbmZvCiAgICBsZWFndWVzOiBtYXA8SW50LCBMZWFndWVJbmZvPjsKICAgIC8vIChsZWFndWVJZF9oYXNoICsgdXNlcl9hZGRyZXNzX2hhc2gpIC0+IFN0YWtlSW5mbwogICAgc3Rha2VzOiBtYXA8SW50LCBTdGFrZUluZm8+OwoKICAgIGluaXQoKSB7CiAgICAgICAgc2VsZi5vd25lciA9IHNlbmRlcigpOwogICAgfQoKICAgIC8vIC0tLSBDcmVhdGUgTGVhZ3VlIC0tLQogICAgcmVjZWl2ZShtc2c6IENyZWF0ZUxlYWd1ZSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgbGV0IGxlYWd1ZUhhc2g6IEludCA9IHNoYTI1Nihtc2cubGVhZ3VlSWQpOwogICAgICAgIAogICAgICAgIC8vIGNoZWNrIGlmIGV4aXN0cwogICAgICAgIHJlcXVpcmUoc2VsZi5sZWFndWVzLmdldChsZWFndWVIYXNoKSA9PSBudWxsLCAiTGVhZ3VlIGFscmVhZHkgZXhpc3RzIik7CiAgICAgICAgCiAgICAgICAgbGV0IGZlZVBhaWQ6IEJvb2wgPSBmYWxzZTsKICAgICAgICBsZXQgcmVxdWlyZWRWYWx1ZTogSW50ID0gMDsKCiAgICAgICAgaWYgKG1zZy5mZWVBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSByZXF1aXJlZFZhbHVlICsgbXNnLmZlZUFtb3VudDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKG1zZy5pbml0aWFsU3Rha2UgPiAwKSB7CiAgICAgICAgICAgIHJlcXVpcmVkVmFsdWUgPSByZXF1aXJlZFZhbHVlICsgbXNnLmluaXRpYWxTdGFrZTsKICAgICAgICB9CgogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHJlcXVpcmVkVmFsdWUsICJJbnN1ZmZpY2llbnQgdmFsdWUgc2VudCIpOwoKICAgICAgICAvLyBIYW5kbGUgRmVlCiAgICAgICAgaWYgKG1zZy5mZWVBbW91bnQgPiAwKSB7CiAgICAgICAgICAgIC8vIEZlZSBsb2dpYzogU2VuZCB0byBvd25lci9hZG1pbgogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYub3duZXIsCiAgICAgICAgICAgICAgICB2YWx1ZTogbXNnLmZlZUFtb3VudCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogIkxlYWd1ZSBDcmVhdGlvbiBGZWUiLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmZWVQYWlkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gSGFuZGxlIEluaXRpYWwgU3Rha2UKICAgICAgICBsZXQgc3Rha2VkQW1vdW50OiBJbnQgPSAwOwogICAgICAgIGlmIChtc2cuaW5pdGlhbFN0YWtlID4gMCkgewogICAgICAgICAgICBzdGFrZWRBbW91bnQgPSBtc2cuaW5pdGlhbFN0YWtlOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gUmVjb3JkIFN0YWtlCiAgICAgICAgICAgIC8vIEZpeDogVXNlIGhhc2ggb2YgKGxlYWd1ZUhhc2ggKyB1c2VyQWRkcmVzcykgdG8gYXZvaWQgaW50ZWdlciBvdmVyZmxvdyBmcm9tIHNpbXBsZSBhZGRpdGlvbgogICAgICAgICAgICAvLyBOb3RlOiBjdHguc2VuZGVyIGlzIHRoZSB1c2VyIGNyZWF0aW5nIHRoZSBsZWFndWUvc3Rha2UKICAgICAgICAgICAgbGV0IHN0YWtlS2V5OiBJbnQgPSBiZWdpbkNlbGwoKS5zdG9yZVVpbnQobGVhZ3VlSGFzaCwgMjU2KS5zdG9yZUFkZHJlc3MoY3R4LnNlbmRlcikuZW5kQ2VsbCgpLmhhc2goKTsgCiAgICAgICAgICAgIHJlcXVpcmUoc2VsZi5zdGFrZXMuZ2V0KHN0YWtlS2V5KSA9PSBudWxsLCAiVXNlciBhbHJlYWR5IHN0YWtlZCIpOwoKICAgICAgICAgICAgbGV0IHN0YWtlSW5mbzogU3Rha2VJbmZvID0gU3Rha2VJbmZvewogICAgICAgICAgICAgICAgdXNlcjogY3R4LnNlbmRlciwKICAgICAgICAgICAgICAgIGFtb3VudDogc3Rha2VkQW1vdW50LAogICAgICAgICAgICAgICAgaGFzU3Rha2VkOiB0cnVlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHNlbGYuc3Rha2VzLnNldChzdGFrZUtleSwgc3Rha2VJbmZvKTsKICAgICAgICAgICAgZW1pdChTdGFrZUV2ZW50e2xlYWd1ZUlkOiBtc2cubGVhZ3VlSWQsIHVzZXJJZDogbXNnLnVzZXJJZCwgYW1vdW50OiBzdGFrZWRBbW91bnR9LnRvQ2VsbCgpKTsKICAgICAgICB9CgogICAgICAgIGxldCBpbmZvOiBMZWFndWVJbmZvID0gTGVhZ3VlSW5mb3sKICAgICAgICAgICAgb3duZXI6IGN0eC5zZW5kZXIsCiAgICAgICAgICAgIGxlYWd1ZUlkOiBtc2cubGVhZ3VlSWQsCiAgICAgICAgICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBtc2cuY29tbWlzc2lvblBlcmNlbnRhZ2UsCiAgICAgICAgICAgIGZlZVBhaWQ6IGZlZVBhaWQsCiAgICAgICAgICAgIHRvdGFsU3Rha2VkOiBzdGFrZWRBbW91bnQKICAgICAgICB9OwogICAgICAgIAogICAgICAgIHNlbGYubGVhZ3Vlcy5zZXQobGVhZ3VlSGFzaCwgaW5mbyk7CiAgICAgICAgZW1pdChMZWFndWVDcmVhdGVke2xlYWd1ZUlkOiBtc2cubGVhZ3VlSWR9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICAvLyAtLS0gQ3JlYXRlIFB1YmxpYyBMZWFndWUgKE93bmVyIE9ubHkpIC0tLQogICAgcmVjZWl2ZShtc2c6IENyZWF0ZVB1YmxpY0xlYWd1ZSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3duZXIsICJPbmx5IG93bmVyIGNhbiBjcmVhdGUgcHVibGljIGxlYWd1ZXMiKTsKICAgICAgICAKICAgICAgICBsZXQgbGVhZ3VlSGFzaDogSW50ID0gc2hhMjU2KG1zZy5sZWFndWVJZCk7CiAgICAgICAgCiAgICAgICAgLy8gY2hlY2sgaWYgZXhpc3RzCiAgICAgICAgcmVxdWlyZShzZWxmLmxlYWd1ZXMuZ2V0KGxlYWd1ZUhhc2gpID09IG51bGwsICJMZWFndWUgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgICAKICAgICAgICAvLyBGb3IgcHVibGljIGxlYWd1ZXMsIG5vIGZlZSBpcyBwYWlkIHVwZnJvbnQKICAgICAgICAvLyBUaGUgZmVlQW1vdW50IGlzIHN0b3JlZCBzbyB1c2VycyBrbm93IHdoYXQgdG8gcGF5IHdoZW4gc3Rha2luZwogICAgICAgIGxldCBpbmZvOiBMZWFndWVJbmZvID0gTGVhZ3VlSW5mb3sKICAgICAgICAgICAgb3duZXI6IHNlbGYub3duZXIsIC8vIFB1YmxpYyBsZWFndWVzIGFyZSBvd25lZCBieSB0aGUgY29udHJhY3Qgb3duZXIKICAgICAgICAgICAgbGVhZ3VlSWQ6IG1zZy5sZWFndWVJZCwKICAgICAgICAgICAgY29tbWlzc2lvblBlcmNlbnRhZ2U6IG1zZy5jb21taXNzaW9uUGVyY2VudGFnZSwKICAgICAgICAgICAgZmVlUGFpZDogZmFsc2UsIC8vIE5vIGZlZSBwYWlkIGZvciBwdWJsaWMgbGVhZ3VlIGNyZWF0aW9uCiAgICAgICAgICAgIHRvdGFsU3Rha2VkOiAwCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBzZWxmLmxlYWd1ZXMuc2V0KGxlYWd1ZUhhc2gsIGluZm8pOwogICAgICAgIGVtaXQoTGVhZ3VlQ3JlYXRlZHtsZWFndWVJZDogbXNnLmxlYWd1ZUlkfS50b0NlbGwoKSk7CiAgICB9CgogICAgLy8gLS0tIFN0YWtlIC0tLQogICAgcmVjZWl2ZShtc2c6IFN0YWtlKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgbGVhZ3VlSGFzaDogSW50ID0gc2hhMjU2KG1zZy5sZWFndWVJZCk7CiAgICAgICAgbGV0IGxlYWd1ZTogTGVhZ3VlSW5mbyA9IHNlbGYubGVhZ3Vlcy5nZXQobGVhZ3VlSGFzaCkhITsgLy8gVGhyb3cgaWYgbnVsbAogICAgICAgIAogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IG1zZy5hbW91bnQsICJJbnN1ZmZpY2llbnQgc3Rha2UgYW1vdW50IHNlbnQiKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3IgZG91YmxlIHN0YWtlPwogICAgICAgIC8vIEZpeDogVXNlIGhhc2ggb2YgKGxlYWd1ZUhhc2ggKyB1c2VyQWRkcmVzcykgdG8gYXZvaWQgaW50ZWdlciBvdmVyZmxvdyBmcm9tIHNpbXBsZSBhZGRpdGlvbgogICAgICAgIGxldCBzdGFrZUtleTogSW50ID0gYmVnaW5DZWxsKCkuc3RvcmVVaW50KGxlYWd1ZUhhc2gsIDI1Nikuc3RvcmVBZGRyZXNzKGN0eC5zZW5kZXIpLmVuZENlbGwoKS5oYXNoKCk7IAogICAgICAgIHJlcXVpcmUoc2VsZi5zdGFrZXMuZ2V0KHN0YWtlS2V5KSA9PSBudWxsLCAiVXNlciBhbHJlYWR5IHN0YWtlZCIpOwoKICAgICAgICBsZXQgc3Rha2VJbmZvOiBTdGFrZUluZm8gPSBTdGFrZUluZm97CiAgICAgICAgICAgIHVzZXI6IGN0eC5zZW5kZXIsCiAgICAgICAgICAgIGFtb3VudDogbXNnLmFtb3VudCwKICAgICAgICAgICAgaGFzU3Rha2VkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBzZWxmLnN0YWtlcy5zZXQoc3Rha2VLZXksIHN0YWtlSW5mbyk7CiAgICAgICAgZW1pdChTdGFrZUV2ZW50e2xlYWd1ZUlkOiBtc2cubGVhZ3VlSWQsIHVzZXJJZDogbXNnLnVzZXJJZCwgYW1vdW50OiBtc2cuYW1vdW50fS50b0NlbGwoKSk7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIFRvdGFsIFN0YWtlZAogICAgICAgIGxldCBuZXdUb3RhbDogSW50ID0gbGVhZ3VlLnRvdGFsU3Rha2VkICsgbXNnLmFtb3VudDsKICAgICAgICBzZWxmLmxlYWd1ZXMuc2V0KGxlYWd1ZUhhc2gsIExlYWd1ZUluZm97CiAgICAgICAgICAgIG93bmVyOiBsZWFndWUub3duZXIsCiAgICAgICAgICAgIGxlYWd1ZUlkOiBsZWFndWUubGVhZ3VlSWQsCiAgICAgICAgICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBsZWFndWUuY29tbWlzc2lvblBlcmNlbnRhZ2UsCiAgICAgICAgICAgIGZlZVBhaWQ6IGxlYWd1ZS5mZWVQYWlkLAogICAgICAgICAgICB0b3RhbFN0YWtlZDogbmV3VG90YWwKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyAtLS0gUGF5b3V0IFdpbm5lcnMgLS0tCiAgICByZWNlaXZlKG1zZzogUGF5b3V0V2lubmVycykgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3duZXIsICJPbmx5IG93bmVyIGNhbiBwYXlvdXQiKTsKICAgICAgICBzZWxmLl9wYXlvdXRMZWFndWUobXNnLmxlYWd1ZUlkLCBtc2cud2lubmluZ1BlcmNlbnRhZ2VzLCBtc2cud2lubmVycywgbXNnLmNvdW50LCBtc2cuY29tbWlzc2lvblBlcmNlbnRhZ2UpOwogICAgfQoKICAgIC8vIC0tLSBCYXRjaCBQYXlvdXQgV2lubmVycyAtLS0KICAgIHJlY2VpdmUobXNnOiBCYXRjaFBheW91dFdpbm5lcnMpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAiT25seSBvd25lciBjYW4gcGF5b3V0Iik7CiAgICAgICAgCiAgICAgICAgbGV0IGk6IEludCA9IDA7CiAgICAgICAgcmVwZWF0KG1zZy5jb3VudCkgewogICAgICAgICAgICBsZXQgaXRlbTogUGF5b3V0SXRlbSA9IG1zZy5pdGVtcy5nZXQoaSkhITsKICAgICAgICAgICAgc2VsZi5fcGF5b3V0TGVhZ3VlKGl0ZW0ubGVhZ3VlSWQsIGl0ZW0ud2lubmluZ1BlcmNlbnRhZ2VzLCBpdGVtLndpbm5lcnMsIGl0ZW0uY291bnQsIGl0ZW0uY29tbWlzc2lvblBlcmNlbnRhZ2UpOwogICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQogICAgfQoKICAgIC8vIC0tLSBQcml2YXRlIFBheW91dCBMb2dpYyAtLS0KICAgIGZ1biBfcGF5b3V0TGVhZ3VlKGxlYWd1ZUlkOiBTdHJpbmcsIHdpbm5pbmdQZXJjZW50YWdlczogbWFwPEludCwgSW50Piwgd2lubmVyczogbWFwPEludCwgQWRkcmVzcz4sIGNvdW50OiBJbnQsIGNvbW1pc3Npb25QZXJjZW50YWdlOiBJbnQpIHsKICAgICAgICBsZXQgbGVhZ3VlSGFzaDogSW50ID0gc2hhMjU2KGxlYWd1ZUlkKTsKICAgICAgICBsZXQgbGVhZ3VlOiBMZWFndWVJbmZvID0gc2VsZi5sZWFndWVzLmdldChsZWFndWVIYXNoKSEhOwogICAgICAgIAogICAgICAgIC8vIENhbGN1bGF0ZSBUb3RhbCBTdGFrZWQKICAgICAgICBsZXQgdG90YWxTdGFrZWQ6IEludCA9IGxlYWd1ZS50b3RhbFN0YWtlZDsKICAgICAgICByZXF1aXJlKHRvdGFsU3Rha2VkID4gMCwgIk5vIGZ1bmRzIGluIGxlYWd1ZSIpOwogICAgICAgIAogICAgICAgIC8vIFZhbGlkYXRpb246IENvbW1pc3Npb24gY29uc3RyYWludHMKICAgICAgICBpZiAobGVhZ3VlLmZlZVBhaWQpIHsKICAgICAgICAgICAgcmVxdWlyZShjb21taXNzaW9uUGVyY2VudGFnZSA9PSAwLCAiRmVlIHBhaWQsIG5vIGNvbW1pc3Npb24gYWxsb3dlZCIpOwogICAgICAgIH0KCiAgICAgICAgLy8gQ29tbWlzc2lvbiBDYWxjdWxhdGlvbgogICAgICAgIGxldCBwbGF0Q29tbTogSW50ID0gMDsKICAgICAgICBsZXQgY3JlYXRvckNvbW06IEludCA9IDA7CiAgICAgICAgbGV0IHRvdGFsRGVkdWN0aW9uczogSW50ID0gMDsKICAgICAgICBsZXQgZGlzdHJpYnV0YWJsZUFtb3VudDogSW50ID0gdG90YWxTdGFrZWQ7CgogICAgICAgIC8vIDEuIFBsYXRmb3JtIENvbW1pc3Npb24gKFBhc3NlZCBpbiBtc2cpCiAgICAgICAgaWYgKCFsZWFndWUuZmVlUGFpZCAmJiBjb21taXNzaW9uUGVyY2VudGFnZSA+IDApIHsKICAgICAgICAgICAgcGxhdENvbW0gPSB0b3RhbFN0YWtlZCAqIGNvbW1pc3Npb25QZXJjZW50YWdlIC8gMTAwMDA7CiAgICAgICAgfQoKICAgICAgICAvLyAyLiBDcmVhdG9yIENvbW1pc3Npb24gKFN0b3JlZCBpbiBMZWFndWUpCiAgICAgICAgaWYgKGxlYWd1ZS5jb21taXNzaW9uUGVyY2VudGFnZSA+IDApIHsKICAgICAgICAgICAgY3JlYXRvckNvbW0gPSB0b3RhbFN0YWtlZCAqIGxlYWd1ZS5jb21taXNzaW9uUGVyY2VudGFnZSAvIDEwMDAwOwogICAgICAgIH0KCiAgICAgICAgdG90YWxEZWR1Y3Rpb25zID0gcGxhdENvbW0gKyBjcmVhdG9yQ29tbTsKICAgICAgICBkaXN0cmlidXRhYmxlQW1vdW50ID0gdG90YWxTdGFrZWQgLSB0b3RhbERlZHVjdGlvbnM7CgogICAgICAgIC8vIFNlbmQgUGxhdGZvcm0gQ29tbWlzc2lvbgogICAgICAgIGlmIChwbGF0Q29tbSA+IDApIHsKICAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi5vd25lciwKICAgICAgICAgICAgICAgIHZhbHVlOiBwbGF0Q29tbSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICAgICAgYm9keTogIkNvbW1pc3Npb24iLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gU2VuZCBDcmVhdG9yIENvbW1pc3Npb24gKEltcGxpY2l0bHkgdG8gTGVhZ3VlIE93bmVyKQogICAgICAgIGlmIChjcmVhdG9yQ29tbSA+IDApIHsKICAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbGVhZ3VlLm93bmVyLAogICAgICAgICAgICAgICAgdmFsdWU6IGNyZWF0b3JDb21tLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICBib2R5OiAiQ3JlYXRvciBDb21taXNzaW9uIi5hc0NvbW1lbnQoKQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gUGF5b3V0IExvb3AKICAgICAgICBsZXQgaTogSW50ID0gMDsKICAgICAgICBsZXQgcGFpZE91dDogSW50ID0gMDsKICAgICAgICAKICAgICAgICByZXBlYXQoY291bnQpIHsKICAgICAgICAgICAgIGxldCB3aW5uZXJBZGRyOiBBZGRyZXNzID0gd2lubmVycy5nZXQoaSkhITsKICAgICAgICAgICAgIGxldCBwY3Q6IEludCA9IHdpbm5pbmdQZXJjZW50YWdlcy5nZXQoaSkhITsKICAgICAgICAgICAgIAogICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2lubmVyIHN0YWtlZAogICAgICAgICAgICAgLy8gRml4OiBNYXRjaCB0aGUgc3Rha2VLZXkgZGVyaXZhdGlvbiBmcm9tIFN0YWtlIG1lc3NhZ2UKICAgICAgICAgICAgIGxldCBzdGFrZUtleTogSW50ID0gYmVnaW5DZWxsKCkuc3RvcmVVaW50KGxlYWd1ZUhhc2gsIDI1Nikuc3RvcmVBZGRyZXNzKHdpbm5lckFkZHIpLmVuZENlbGwoKS5oYXNoKCk7CiAgICAgICAgICAgICByZXF1aXJlKHNlbGYuc3Rha2VzLmdldChzdGFrZUtleSkgIT0gbnVsbCwgIldpbm5lciBkaWQgbm90IHN0YWtlIik7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIGxldCBhbW91bnQ6IEludCA9IGRpc3RyaWJ1dGFibGVBbW91bnQgKiBwY3QgLyAxMDAwMDsKICAgICAgICAgICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgICAgICB0bzogd2lubmVyQWRkciwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYW1vdW50LAogICAgICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBib2R5OiAiUGF5b3V0Ii5hc0NvbW1lbnQoKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBlbWl0KFBheW91dEV2ZW50e2xlYWd1ZUlkOiBsZWFndWVJZCwgd2lubmVyOiB3aW5uZXJBZGRyLCBhbW91bnQ6IGFtb3VudH0udG9DZWxsKCkpOwogICAgICAgICAgICAgICAgcGFpZE91dCA9IHBhaWRPdXQgKyBhbW91bnQ7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgfQoKICAgICAgICAvLyBVcGRhdGUgVG90YWwgU3Rha2VkIHRvIDAgKEFzc3VtaW5nIGZ1bGwgcGF5b3V0KQogICAgICAgIHNlbGYubGVhZ3Vlcy5zZXQobGVhZ3VlSGFzaCwgTGVhZ3VlSW5mb3sKICAgICAgICAgICAgb3duZXI6IGxlYWd1ZS5vd25lciwKICAgICAgICAgICAgbGVhZ3VlSWQ6IGxlYWd1ZS5sZWFndWVJZCwKICAgICAgICAgICAgY29tbWlzc2lvblBlcmNlbnRhZ2U6IGxlYWd1ZS5jb21taXNzaW9uUGVyY2VudGFnZSwKICAgICAgICAgICAgZmVlUGFpZDogbGVhZ3VlLmZlZVBhaWQsCiAgICAgICAgICAgIHRvdGFsU3Rha2VkOiAwIAogICAgICAgIH0pOwogICAgICAgIGVtaXQoUGF5b3V0Q29tcGxldGVkRXZlbnR7bGVhZ3VlSWQ6IGxlYWd1ZUlkfS50b0NlbGwoKSk7CiAgICB9CgogICAgLy8gLS0tIFdpdGhkcmF3IC0tLQogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3KSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciwgIk9ubHkgb3duZXIgY2FuIHdpdGhkcmF3Iik7CiAgICAgICAgCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3duZXIsCiAgICAgICAgICAgIHZhbHVlOiBtc2cuYW1vdW50LAogICAgICAgICAgICBtb2RlOiBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiAiV2l0aGRyYXdhbCIuYXNDb21tZW50KCkKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgLy8gR2V0dGVyIGZvciBMZWFndWUKICAgIGdldCBmdW4gbGVhZ3VlKGlkOiBTdHJpbmcpOiBMZWFndWVJbmZvPyB7CiAgICAgICAgcmV0dXJuIHNlbGYubGVhZ3Vlcy5nZXQoc2hhMjU2KGlkKSk7CiAgICB9Cn0KCnN0cnVjdCBMZWFndWVJbmZvIHsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgbGVhZ3VlSWQ6IFN0cmluZzsKICAgIGNvbW1pc3Npb25QZXJjZW50YWdlOiBJbnQ7CiAgICBmZWVQYWlkOiBCb29sOwogICAgdG90YWxTdGFrZWQ6IEludCBhcyBjb2luczsKfQoKc3RydWN0IFN0YWtlSW5mbyB7CiAgICB1c2VyOiBBZGRyZXNzOwogICAgYW1vdW50OiBJbnQ7CiAgICBoYXNTdGFrZWQ6IEJvb2w7Cn0K"},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"./contracts/league_payout.tact\",\"options\":{}}"}}